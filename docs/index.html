<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>keys0 API documentation</title>
<meta name="description" content="Keys0: baseline keys-based stochastic explainer/controller
&#34;If you can really explain &#39;it&#39;, then you can control &#39;it&#39;.&#34;
(c) 2021 Tim Menzies …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>keys0</code></h1>
</header>
<section id="section-intro">
<p>Keys0: baseline keys-based stochastic explainer/controller
<br>
"If you can really explain 'it', then you can control 'it'."
<br>
(c) 2021 Tim Menzies <timm.ieee.org>, <a href="https://unlicense.org">https://unlicense.org</a>
</p>
<p>Usage: ./keys0.py [OPTIONS]</p>
<pre><code>OPTIONS:
  -b      I     bootstrapping, number of samples
  -conf   F     bootstrapping, confidence threshold
  -D            dump defaults
  -Do           list all doable things
  -data   FILE  set input file
  -do     S     what to run (and `all` means run all)
  -dull   F     cliff delta threshold of belief
  -enough F     do not divide less than 2*|rows|^F
  -far    P     far  things are more than P% distant
  -goal   I     0=optimize, 1=monitor, 2=safer
  -h            print help
  -p      I     coefficient in  distance calcs
  -seed   I     random number seed
  -y      S     set format string for reals
</code></pre>
<p>For
more information, see
<a href="https://github.com/timm/py/blob/main/README.md.">https://github.com/timm/py/blob/main/README.md.</a></p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3.9
# vim: filetype=python ts=2 sw=2 sts=2 et :
&#34;&#34;&#34;
Keys0: baseline keys-based stochastic explainer/controller    
&#34;If you can really explain &#39;it&#39;, then you can control &#39;it&#39;.&#34;    
(c) 2021 Tim Menzies &lt;timm.ieee.org&gt;, https://unlicense.org    
    
Usage: ./keys0.py [OPTIONS]

```
OPTIONS:
  -b      I     bootstrapping, number of samples
  -conf   F     bootstrapping, confidence threshold
  -D            dump defaults
  -Do           list all doable things
  -data   FILE  set input file
  -do     S     what to run (and `all` means run all)
  -dull   F     cliff delta threshold of belief
  -enough F     do not divide less than 2*|rows|^F
  -far    P     far  things are more than P% distant
  -goal   I     0=optimize, 1=monitor, 2=safer
  -h            print help
  -p      I     coefficient in  distance calcs
  -seed   I     random number seed
  -y      S     set format string for reals
```

For  more information, see
https://github.com/timm/py/blob/main/README.md.
&#34;&#34;&#34;
import re
import sys
import copy
import math
import random
import bisect
from colored import fore, back, style
import traceback

_FMT = &#34;%8.2f&#34;
_FAILS = 0
_DEFAULTS = dict(cohen=.35,  #
                 b=500, #
                 conf=0.05,  #
                 D=0,  #
                 Do=0,  #
                 data=&#34;data/auto93.csv&#34;,  #
                 do=&#34;all&#34;,  #
                 dull=.147, #
                 enough=.5,  #
                 far=90,  #
                 fmt=&#34;%8.2f&#34;,  #
                 p=2,  #
                 seed=10013)

&#34;&#34;&#34;
Assumes:

- Data divides into `x` _independent variables
  and `y` dependent (a.k.a. goals) variables.
- All the `y` values are numeric but `x`
  values can be numeric or symbolic.
  There may  even be missing x-values
  need  to minimize  the number of
  probes into the  `y` variables.
- There can  be multiple goals we need  to
  minimize and  maximize. Our `Rows.__lt__` method
  conducts trade-off studies between competing
  goals using the IDEA continuous domination predicate.
- The &#34;keys&#34; effect;  i.e. a small number of `x`
  features control  the rests.
  That is, there  there  exists  a  small  number  of
  feature ranges that occur with unlike
  frequencies in desired
  and  undesired  outcomes.  Hence,  a  little
  random  sampling  is enough to quickly find those keys.

Method:

- Randomly  divide  the  data using the Fastmap random projections
  - Select  distant  points P1, P2 within  the  data.
  - Sortthat  pointP1is  better  thanP2(if  exploring182multiple goals, use some domination predicate to rank the183two items). Mark the databest, restdepending on whether184it is closest toP1, P2respectively.1852)Look  for  feature  ranges  with  very  unlike  frequencies186in   best  andrest.  Divide  numeric  features  into√nsized187ranges. Combine adjacent ranges that have similarbest,rest188frequencies.  Rank  feature  ranges,  favoring  those  that  are189more frequent inbestthanrest. Print the top-ranked range.1903)Recurse.Select   the   data   that   matches   that   top   range191(discarding  the  rest).  If  anything  is  discarded,  loop  back192to step1

&#34;&#34;&#34;

def keys0(tbl, the, cols=None, goal=0):
  def optimize(b, r): return b**2 / (b + r)
  def monitor(b, r): return r**2 / (b + r)
  def safer(b, r): return 1 / (b + r)
  goal = [optimize, monitor, safer][goal]

  def select(do, row):
    x = row.cells[do.at]
    return x != &#34;?&#34; and do.down &lt;= x &lt;= do.up

  def go(rows, b4, pre=&#34;&#34;):
    best, rest = bestRest(b4, the, cols=cols)
    do, hi = True, -1
    for great, dull in zip(best.x, rest.x):
      for x in great.ranges(dull, the):
        tmp = goal(x.best, x.rest)
        if tmp &gt; hi:
          do, hi = x, tmp
    rows1 = [row for row in rows if select(do, row)]
    if enough &lt;= len(rows1) &lt; len(rows):
      now = tbl.clone(rows1)
      if now &lt; b4:
        rules.append((now.ys(), (do.at, do.down, do.up)))
        go(rows1, now, pre + &#34;   |&#34;)

  enough = 30  # len(tbl.rows)**the.enough
  print(&#34;e&#34;, enough)
  cols = cols or tbl.x
  rules = [(tbl.ys(), True)]
  go(tbl.rows, tbl)
  return rules

# ---------------------------------
# ## Classes
# ### Base
# Base class for everything.
class o(object):
  def __init__(i, **k): i.__dict__.update(**k)

  def __repr__(i):
    return i.__class__.__name__ + str(
        {k: v for k, v in i.__dict__.items() if k[0] != &#34;_&#34;})

# ### Col
# Factory for making columns.
def Col(at, txt):
  what = Skip if &#34;?&#34; in txt else (
      Num if txt[0].isupper() else Sym)
  return what(at, txt)

# Abstract super class for column summaries.
class Column(o):
  def __init__(i, at=0, txt=&#34;&#34;, inits=[]):
    i.at, i.txt, i.n = at, txt, 0
    i.w = -1 if &#34;-&#34; in txt else 1
    i.goal = &#34;-&#34; in txt or &#34;+&#34; in txt or &#34;!&#34; in txt
    i.skip = &#34;?&#34; in txt
    [i.add(x) for x in inits]

  def add(i, x): return x
  def mid(i): return &#34;?&#34;
  def var(i): return 0
  def norm(i, x): return 0
  def dist(i, j): return 0

# ### Skip
# Black hole. Used for ignoring a column of data.

class Skip(Column):
  pass

# ### Sym
# Summarize symbolic data.
class Sym(Column):
  def __init__(i, *l, **kw):
    i.seen, i.most, i.mode = {}, 0, None
    super().__init__(*l, **kw)

  def add(i, x, n=1):
    if x != &#34;?&#34;:
      i.n += n
      i.seen[x] = i.seen.get(x, 0) + n
      if i.seen[x] &gt; i.most:
        i.most, i.mode = i.seen[x], x
    return x

  def mid(i): return i.mode
  def var(i): return i.entropy()

  def entropy(i):
    return sum(-v / i.n * math.log(v / i.n, 2) for v in i.seen.values())

  def dist(i, x, y): return 0 if x == y else 1

  def simplified(i, j):
    k = i.merge(j)
    e1, n1 = i.entropy(), i.n
    e2, n2 = j.entropy(), j.n
    e, n = k.entropy(), k.n
    if e1 + e2 &lt; 0.01 or e * .95 &lt; n1 / n * e1 + n2 / n * e2:
      return k

  def merge(i, j):
    k = Sym(at=i.at, txt=i.txt)
    for seen in [i.seen, j.seen]:
      for x, n in seen.items():
        k.add(x, n)
    return k

  def ranges(i, j, _):
    for k in i.seen:
      b = i.seen.get(k, 0) / i.n
      r = j.seen.get(k, 0) / j.n
      yield o(best=b, rest=r, at=i.at, down=k, up=k)

# ### Num
# Summarize numeric data.
class Num(Column):
  def __init__(i, *l, **k):
    i._all, i.ready = [], True
    super().__init__(*l, **k)

  def add(i, x):
    if x != &#34;?&#34;:
      i.n += 1
      x = float(x)
      i._all += [x]
      i.ready = False
    return x

  def all(i):
    if not i.ready:
      i._all.sort()
    i.ready = True
    return i._all

  def lo(i): return i.all()[0]
  def hi(i): return i.all()[-1]
  def mid(i): return i.per(0.5)
  def var(i): return i.sd()
  def sd(i): return (i.per(.9) - i.per(.1)) / 2.56
  def per(i, p=0.5): return i.all()[int(len(i._all) * p)]

  def dist(i, x, y):
    if x == &#34;?&#34;:
      y = i.norm(y)
      x = 1 if y &lt; 0.5 else 0
    elif y == &#34;?&#34;:
      x = i.norm(x)
      y = 1 if x &lt; 0.5 else 0
    else:
      x, y = i.norm(x), i.norm(y)
    return abs(x - y)

  def norm(i, x):
    return x if x == &#34;?&#34; else min(1, max(0, (x - i.lo()) / (i.hi() - i.lo() + 1E-32)))

  def ranges(i, j, the):
    xy = [(better, True) for better in i._all] + [
        (bad, False) for bad in j._all]
    n = i.n + j.n
    sd = i.sd() * i.n / n + j.sd() * j.n / n
    for bin in discretize(xy, sd * the.cohen, len(xy)**the.enough):
      b = bin.also.seen.get(True, 0) / i.n
      r = bin.also.seen.get(False, 0) / j.n
      yield o(best=b, rest=r, at=i.at, down=bin.down, up=bin.up)

  def same(i, j, the):
    lst1, lst2 = i.all(), j.all()
    return Stats.cliffsDelta1(lst1, lst2, the.dull) and \
        Stats.bootstrap(lst1, lst2, the.conf, the.b)

  def unlike(i, j, the):
    d = the.cohen / 3 # normal stops at 3 sd
    x = i.per(.5 + d) - i.per(.5)
    y = i.per(.5) - i.per(.5 - d)
    z = (x + y) / 2 # man different here to cohen*sd
    delta = abs(i.per(.5) - j.per(.5))
    return delta &gt; z

class Some(Column):
  # `add` up to `max` items (and if full, sometimes replace old items).&#34;
  # Not  currently used but if reasoning over large data, can be useful.
  def __init__(i, *l, keep=1024, **kw):
    i.all = []
    i.keep = keep
    super().__init__(*l, **kw)

  def add(i, x):
    if x != &#34;?&#34;:
      i.n += 1
      x = float(x)
      a, r = i.all, random.random
      if len(a) &lt; i.keep:
        a += [x]
      elif r() &lt; i.keep / i.n:
        a[int(r() * len(a))] = x
    return x

# ### Row
# Place to store on example.
class Row(o):
  def __init__(i, tbl, cells): i._tbl, i.cells = tbl, cells

  def dist(i, j, the, cols=None):
    d, n = 0, 1E-32
    for it in cols or i._tbl.x:
      n += 1
      a, b = i.cells[it.at], j.cells[it.at]
      inc = 1 if a == &#34;?&#34; and b == &#34;?&#34; else it.dist(a, b)
      d += inc**the.p
    return (d / n)**(1 / the.p)

  def ys(i): return [i.cells[col.at] for col in i._tbl.y]

  def distant(i, the, rows=None, cols=None):
    some = [random.choice(rows) for _ in range(50)]
    tmp = i.neighbors(the, some, cols)
    return tmp[int(the.far / 100 * len(tmp))][1]

  def neighbors(i, the, rows=None, cols=None):
    rows = rows or i._tbl.rows
    tmp = [(i.dist(j, the, cols or i._tbl.x), j) for j in rows]
    return sorted(tmp, key=lib.first)

  def __lt__(i, j):
    cols = i._tbl.y
    s1, s2, n = 0, 0, len(cols)
    for col in cols:
      a = col.norm(i.cells[col.at])
      b = col.norm(j.cells[col.at])
      s1 -= math.e**(col.w * (a - b) / n)
      s2 -= math.e**(col.w * (b - a) / n)
    return s1 / n &lt; s2 / n

# ### Table
class Table(o):
  def __init__(i, inits=[]):
    i.rows, i.header, i.cols, i.x, i.y = [], [], [], [], []
    [i.add(row) for row in inits]
  def __lt__(i, j): return Row(i, i.mid()) &lt; Row(i, j.mid())
  def row(i, lst): return Row(i, [col.add(x)
                                  for col, x in zip(i.cols, lst)])

  def read(i, f): [i.add(line) for line in lib.lines(f)]; return i
  def mid(i): return [col.mid() for col in i.cols]
  def ys(i): return [col.mid() for col in i.y]
  def unlike(i, j, the):
    if i &lt; j:
      for ci, cj in zip(i.y, j.y):
        if ci.unlike(cj, the):
          return True
    return False

  def add(i, lst):
    if type(lst) == Row:
      return i.add(lst.cells)
    if i.cols:
      i.rows += [i.row(lst)]
    else:
      i.cols = i.columns(lst)

  def columns(i, lst):
    i.header = lst
    out = [Col(at, pos) for at, pos in enumerate(lst)]
    for col in out:
      if not col.skip:
        (i.y if col.goal else i.x).append(col)
    return out

  def __repr__(i):
    global _FMT
    return &#39;, &#39;.join([(_FMT % z) for z in i.ys()])

  def clone(i, rows=[]): return Table([i.header] + rows)

  def div(i, the, cols=None, rows=None):
    rows = rows or i.rows
    zero = random.choice(rows)
    one = zero.distant(the, rows, cols)
    two = one.distant(the, rows, cols)
    c = one.dist(two, the, cols)
    for row in rows:
      a = row.dist(one, the, cols)
      b = row.dist(two, the, cols)
      row.div2x = (a**2 + c**2 - b**2) / (2 * c + 1E-31)
    rows.sort(key=lambda x: x.div2x)
    mid = len(rows) // 2
    return rows[:mid], rows[mid:]

# ---------------------------
# ## High-level drivers
# Build binary tree on all the data, clustering on x-values.
def cluster(tbl, the, cols=None):
  def go(rows):
    if len(rows) &lt; enough:
      return out.append(tbl.clone(rows))
    left, right = tbl.div(the, cols, rows)
    go(left)
    go(right)

  out, cols = [], cols or tbl.x
  enough = 2 * len(tbl.rows)**the.enough
  go(tbl.rows)
  return out

# Return most left and most right leaves of binary tree.
def bestRest(tbl, the, cols=None):
  def go(rows, path):
    if len(rows) &lt; enough:
      return out.append(tbl.clone(rows))
    left, right = tbl.div(the, cols, rows)
    if path == 0 or path == 1:
      go(left, 1)
    if path == 0 or path == 2:
      go(right, 2)

  out, cols = [], cols or tbl.x
  enough = 2 * len(tbl.rows)**the.enough
  go(tbl.rows, 0)
  return sorted(out)

# ------------------------------------------
# ## Misc utils
def discretize(xy, epsilon, width):
  # xy= list of `(xNum,ySymbol)` pairs. Divides the `xNum`s
  # maximizing size of each bin and the difference in ySmbol
  # distributions between bins.
  def merge(b4):
    # Merge adjacent bins with similar `y` value distributions.
    # If anything merged, then recurse to look for further merges.
    j, tmp, n = 0, [], len(b4)
    while j &lt; n:
      a = b4[j]
      if j &lt; n - 1:
        b = b4[j + 1]
        if c := a.also.simplified(b.also):
          a = o(down=a.down, up=b.up, also=c)
          j += 1
      tmp += [a]
      j += 1
    return merge(tmp) if len(tmp) &lt; len(b4) else b4

  # break data into bins of (say) size sqrt(n)
  while width &lt; 4 and width &lt; len(xy) / 2:
    width *= 1.2
  xy = sorted(xy)
  x = xy[0][0]
  now = o(down=x, up=x, also=Sym())
  out = [now]
  for j, (x, y) in enumerate(xy):
    if j &lt; len(xy) - width: # don&#39;t leave behind final small bins
      if now.also.n &gt;= width: # each bins needs enough data
        if x != xy[j + 1][0]:
          if now.up - now.down &gt; epsilon: # each bin not silly small
            now = o(down=x, up=x, also=Sym())
            out += [now]
    now.up = x
    now.also.add(y)
  return merge(out)

class lib:
  def cli(d, help):
    # Update `d` with cli flags (if they match  the keys in `d`).
    j = -1
    while j &lt; len(sys.argv) - 1:
      j += 1
      key = sys.argv[j][1:]
      if key == &#34;h&#34;:
        print(help)
        sys.exit()
      elif key[0].isupper() and key in d:
        d[key] = True
      elif key in d:
        j += 1
        x = sys.argv[j]
        y = int(x) if re.match(r&#34;^[-+]?[0-9]+$&#34;, x) else (
            float(x) if re.match(r&#34;^[+-]?((\d+(\.\d+)?)|(\.\d+))$&#34;, x) else
            x)
        if type(y) == type(d[key]):
          d[key] = y
    return o(**d)

  def lines(f):
    # return non-blanks  likes, split on comma.
    with open(f) as fp:
      for line in fp:
        line = re.sub(r&#39;([\n\t\r ]|#.*)&#39;, &#39;&#39;, line)
        if line:
          yield line.split(&#34;,&#34;)

  def first(l): return l[0]

  def red(x): return fore.RED + style.BOLD + x + style.RESET
  def green(x): return fore.GREEN + style.BOLD + x + style.RESET

class Stats:
  def cliffsDelta(a1, a2, dull=None):
    # Returns true if there are more than &#39;dull&#39; difference.
    return Stats.cliffsDelta1(a1, sorted(a2), dull=dull)

  def cliffsDelta1(a1, a2, dull=[0.147, 0.33, 0.474][0]):
    n1, n2, gt, lt, = len(a1), len(a2), 0, 0
    for x in a1:
      lt += bisect.bisect_left(a2, x)
      gt += n2 - bisect.bisect_right(a2, x)
    return abs(lt - gt) / (n1 * n2) &lt;= dull

  def bootstrap(y0, z0, conf=0.05, b=500):
    def one(lst): return lst[int(any(len(lst)))]
    def any(n): return random.uniform(0, n)

    class Sum():
      def __init__(i, some=[]):
        i.sum, i.n, i.mu, i.all = 0, 0, 0, []
        [i.put(one) for one in some]

      def put(i, x):
        i.all.append(x)
        i.sum += x
        i.n += 1
        i.mu = float(i.sum) / i.n

      def __add__(i1, i2): return Sum(i1.all + i2.all)

    def testStatistic(y, z):
      tmp1 = tmp2 = 0
      for y1 in y.all:
        tmp1 += (y1 - y.mu)**2
      for z1 in z.all:
        tmp2 += (z1 - z.mu)**2
      s1 = float(tmp1) / (y.n - 1)
      s2 = float(tmp2) / (z.n - 1)
      delta = z.mu - y.mu
      if s1 + s2:
        delta = delta / ((s1 / y.n + s2 / z.n)**0.5)
      return delta

    y, z = Sum(y0), Sum(z0)
    x = y + z
    baseline = testStatistic(y, z)
    yhat = [y1 - y.mu + x.mu for y1 in y.all]
    zhat = [z1 - z.mu + x.mu for z1 in z.all]
    bigger = 0
    for i in range(b):
      if testStatistic(Sum([one(yhat) for _ in yhat]),
                       Sum([one(zhat) for _ in zhat])) &gt; baseline:
        bigger += 1
    return bigger / b &gt;= conf

# ---------------------------
# ## Demos
class yardstick:
  def all(the):
    # Main controller  for  the examples.
    funs = {name: fun for name, fun in yardstick.__dict__.items()
            if len(name) &gt; 2 and name[:2] == &#34;eg&#34;}
    if the.Do:
      for name, fun in funs.items():
        doc = (&#34;\t: &#34; + fun.__doc__) if fun.__doc__ else &#34;&#34;
        print(f&#34;./keys0.py -do {name[2:]}{doc}&#34;)
      sys.exit()
    elif the.D:
      for k, v in the.__dict__.items():
        print(f&#34; -{k} {v}&#34;)
      sys.exit()
    else:
      funs = funs if the.do == &#34;all&#34; else {
          the.do: funs[&#34;eg&#34; + the.do]}
      [yardstick.each(the, fun) for name, fun in funs.items()]

  def each(the, fun):
    # Running one  example.
    global _FMT
    _FMT = the.fmt
    random.seed(the.seed)
    try:
      fun(copy.deepcopy(the))
      print(lib.green(&#34;✔&#34;), fun.__name__)
    except:
      global _FAILS
      _FAILS += 1
      traceback.print_exc()
      print(lib.red(&#34;✖&#34;), fun.__name__)

  def egfails(the): assert False, &#34;checking failure behaviour&#34;

  def egnum(the):
    # Simple print.
    n = Num(inits=[9, 2, 5, 4, 12, 7, 8, 11, 9,
                   3, 7, 4, 12, 5, 4, 10, 9, 6, 9, 4])
    assert n.mid() == 7, &#34;mu test&#34;
    assert 3.125 == n.sd(), &#34;sd test&#34;

  def egsym(the):
    # Another simple print.
    s = Sym(inits=&#34;aaaabbc&#34;)
    assert s.mode == &#34;a&#34;, &#34;mode test&#34;
    assert s.seen[&#34;b&#34;] == 2, &#34;count test&#34;
    assert 1.37 &lt;= s.var() &lt;= 1.38, &#34;ent&#34;

  def eglines(the):
    # Read a csv file.
    n = 0
    for line in lib.lines(the.data):
      n += 1
      assert len(line) == 8
    assert n == 399

  def egtbl(the):
    # Read rows.
    t = Table().read(the.data)
    want = &#34; 2807.00,    15.50,    20.00&#34;
    assert str(t) == want
    assert t.y[0].lo() == 1613
    assert t.y[0].hi() == 5140

  def egdist(the):
    # Checking distant calcs.
    t = Table().read(the.data)
    for m, row1 in enumerate(t.rows):
      lst = row1.neighbors(the)
      assert lst[1][0] &lt; lst[-1][0]
      if m &gt; 100:
        return

  def egsort(the):
    # Checking domination
    t = Table().read(the.data)
    t.rows.sort()
    for row in t.rows[:5]:
      print(&#34;\t&#34;, row.ys())
    print(&#34;&#34;)
    for row in t.rows[-5:]:
      print(&#34;\t&#34;, row.ys())
    print(&#34;enough&#34;, the.enough)

  def egclone(the):
    t = Table().read(the.data)
    t1 = t.clone(rows=t.rows)
    assert [x for x in t.ys()] == [x for x in t1.ys()]

  def egcluster(the):
    t = Table().read(the.data)
    for t1 in sorted(cluster(t, the)):
      print(&#34;\t&#34;, len(t1.rows), t1.ys())

  def egclusterlohi(the):
    t = Table().read(the.data)
    rows = sorted(cluster(t, the))
    for t1 in rows[:10]:
      print(&#34;\t&#34;, len(t1.rows), t1.ys())
    print(&#34;&#34;)
    for t1 in rows[-10:]:
      print(&#34;\t&#34;, len(t1.rows), t1.ys())

  def egbestRest(the):
    t = Table().read(the.data)
    for t1 in bestRest(t, the):
      print(&#34;\t&#34;, len(t1.rows), t1.ys())

  def egdiscrete(the):
    &#34;divide numerics into ranges&#34;
    t = Table().read(the.data)
    leafs = []
    best, rest = bestRest(t, the, leafs)
    tmp = [(x.best**2 / (x.best + x.rest), x)
           for great, dull in zip(best.x, rest.x)
           for x in great.ranges(dull, the)]
    for s, x in sorted(tmp, key=lib.first):
      print(f&#34;\t{s:5.2f}) {x.at}\t {x.down:&gt;5} .. {x.up:&gt;5}&#34;)

  def egstats(the):
    &#34;compare bootstrap to effect size&#34;
    n = 30
    a = [random.random() for _ in range(n)]
    print(&#34;\tcf bs un cd  k   &#34;, n)
    k = 1
    while k &lt; 1.5:
      b = [x * k for x in a]
      cf = Stats.cliffsDelta(a, b, the.dull)
      bs = Stats.bootstrap(a, b, the.conf, the.b)
      i = Num(inits=a)
      j = Num(inits=b)
      cd = abs(i.mid() - j.mid()) &lt; i.sd() * .35
      un = not i.unlike(j, the)
      yes, no = lib.green(&#34;✔ &#34;), lib.red(&#34;✖ &#34;)
      print(&#34;\t&#34;, yes if cf else no,
            yes if bs else no,
            yes if un else no,
            yes if cd else no,
            n,
            f&#34;{k:5.2f}&#34;)
      k += 0.025

  def egkeys0(the):
    t = Table().read(the.data)
    for x in keys0(t, the):
      print(x)


# ---------------------------
# ## Main
if __name__ == &#34;__main__&#34;:
  yardstick.all(lib.cli(_DEFAULTS, __doc__))
  sys.exit(1 if _FAILS &gt; 1 else 0)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="keys0.Col"><code class="name flex">
<span>def <span class="ident">Col</span></span>(<span>at, txt)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Col(at, txt):
  what = Skip if &#34;?&#34; in txt else (
      Num if txt[0].isupper() else Sym)
  return what(at, txt)</code></pre>
</details>
</dd>
<dt id="keys0.bestRest"><code class="name flex">
<span>def <span class="ident">bestRest</span></span>(<span>tbl, the, cols=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def bestRest(tbl, the, cols=None):
  def go(rows, path):
    if len(rows) &lt; enough:
      return out.append(tbl.clone(rows))
    left, right = tbl.div(the, cols, rows)
    if path == 0 or path == 1:
      go(left, 1)
    if path == 0 or path == 2:
      go(right, 2)

  out, cols = [], cols or tbl.x
  enough = 2 * len(tbl.rows)**the.enough
  go(tbl.rows, 0)
  return sorted(out)</code></pre>
</details>
</dd>
<dt id="keys0.cluster"><code class="name flex">
<span>def <span class="ident">cluster</span></span>(<span>tbl, the, cols=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cluster(tbl, the, cols=None):
  def go(rows):
    if len(rows) &lt; enough:
      return out.append(tbl.clone(rows))
    left, right = tbl.div(the, cols, rows)
    go(left)
    go(right)

  out, cols = [], cols or tbl.x
  enough = 2 * len(tbl.rows)**the.enough
  go(tbl.rows)
  return out</code></pre>
</details>
</dd>
<dt id="keys0.discretize"><code class="name flex">
<span>def <span class="ident">discretize</span></span>(<span>xy, epsilon, width)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def discretize(xy, epsilon, width):
  # xy= list of `(xNum,ySymbol)` pairs. Divides the `xNum`s
  # maximizing size of each bin and the difference in ySmbol
  # distributions between bins.
  def merge(b4):
    # Merge adjacent bins with similar `y` value distributions.
    # If anything merged, then recurse to look for further merges.
    j, tmp, n = 0, [], len(b4)
    while j &lt; n:
      a = b4[j]
      if j &lt; n - 1:
        b = b4[j + 1]
        if c := a.also.simplified(b.also):
          a = o(down=a.down, up=b.up, also=c)
          j += 1
      tmp += [a]
      j += 1
    return merge(tmp) if len(tmp) &lt; len(b4) else b4

  # break data into bins of (say) size sqrt(n)
  while width &lt; 4 and width &lt; len(xy) / 2:
    width *= 1.2
  xy = sorted(xy)
  x = xy[0][0]
  now = o(down=x, up=x, also=Sym())
  out = [now]
  for j, (x, y) in enumerate(xy):
    if j &lt; len(xy) - width: # don&#39;t leave behind final small bins
      if now.also.n &gt;= width: # each bins needs enough data
        if x != xy[j + 1][0]:
          if now.up - now.down &gt; epsilon: # each bin not silly small
            now = o(down=x, up=x, also=Sym())
            out += [now]
    now.up = x
    now.also.add(y)
  return merge(out)</code></pre>
</details>
</dd>
<dt id="keys0.keys0"><code class="name flex">
<span>def <span class="ident">keys0</span></span>(<span>tbl, the, cols=None, goal=0)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def keys0(tbl, the, cols=None, goal=0):
  def optimize(b, r): return b**2 / (b + r)
  def monitor(b, r): return r**2 / (b + r)
  def safer(b, r): return 1 / (b + r)
  goal = [optimize, monitor, safer][goal]

  def select(do, row):
    x = row.cells[do.at]
    return x != &#34;?&#34; and do.down &lt;= x &lt;= do.up

  def go(rows, b4, pre=&#34;&#34;):
    best, rest = bestRest(b4, the, cols=cols)
    do, hi = True, -1
    for great, dull in zip(best.x, rest.x):
      for x in great.ranges(dull, the):
        tmp = goal(x.best, x.rest)
        if tmp &gt; hi:
          do, hi = x, tmp
    rows1 = [row for row in rows if select(do, row)]
    if enough &lt;= len(rows1) &lt; len(rows):
      now = tbl.clone(rows1)
      if now &lt; b4:
        rules.append((now.ys(), (do.at, do.down, do.up)))
        go(rows1, now, pre + &#34;   |&#34;)

  enough = 30  # len(tbl.rows)**the.enough
  print(&#34;e&#34;, enough)
  cols = cols or tbl.x
  rules = [(tbl.ys(), True)]
  go(tbl.rows, tbl)
  return rules</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="keys0.Column"><code class="flex name class">
<span>class <span class="ident">Column</span></span>
<span>(</span><span>at=0, txt='', inits=[])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Column(o):
  def __init__(i, at=0, txt=&#34;&#34;, inits=[]):
    i.at, i.txt, i.n = at, txt, 0
    i.w = -1 if &#34;-&#34; in txt else 1
    i.goal = &#34;-&#34; in txt or &#34;+&#34; in txt or &#34;!&#34; in txt
    i.skip = &#34;?&#34; in txt
    [i.add(x) for x in inits]

  def add(i, x): return x
  def mid(i): return &#34;?&#34;
  def var(i): return 0
  def norm(i, x): return 0
  def dist(i, j): return 0</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="keys0.Num" href="#keys0.Num">Num</a></li>
<li><a title="keys0.Skip" href="#keys0.Skip">Skip</a></li>
<li><a title="keys0.Some" href="#keys0.Some">Some</a></li>
<li><a title="keys0.Sym" href="#keys0.Sym">Sym</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys0.Column.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(i, x): return x</code></pre>
</details>
</dd>
<dt id="keys0.Column.dist"><code class="name flex">
<span>def <span class="ident">dist</span></span>(<span>i, j)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dist(i, j): return 0</code></pre>
</details>
</dd>
<dt id="keys0.Column.mid"><code class="name flex">
<span>def <span class="ident">mid</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mid(i): return &#34;?&#34;</code></pre>
</details>
</dd>
<dt id="keys0.Column.norm"><code class="name flex">
<span>def <span class="ident">norm</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def norm(i, x): return 0</code></pre>
</details>
</dd>
<dt id="keys0.Column.var"><code class="name flex">
<span>def <span class="ident">var</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def var(i): return 0</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.Num"><code class="flex name class">
<span>class <span class="ident">Num</span></span>
<span>(</span><span>*l, **k)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Num(Column):
  def __init__(i, *l, **k):
    i._all, i.ready = [], True
    super().__init__(*l, **k)

  def add(i, x):
    if x != &#34;?&#34;:
      i.n += 1
      x = float(x)
      i._all += [x]
      i.ready = False
    return x

  def all(i):
    if not i.ready:
      i._all.sort()
    i.ready = True
    return i._all

  def lo(i): return i.all()[0]
  def hi(i): return i.all()[-1]
  def mid(i): return i.per(0.5)
  def var(i): return i.sd()
  def sd(i): return (i.per(.9) - i.per(.1)) / 2.56
  def per(i, p=0.5): return i.all()[int(len(i._all) * p)]

  def dist(i, x, y):
    if x == &#34;?&#34;:
      y = i.norm(y)
      x = 1 if y &lt; 0.5 else 0
    elif y == &#34;?&#34;:
      x = i.norm(x)
      y = 1 if x &lt; 0.5 else 0
    else:
      x, y = i.norm(x), i.norm(y)
    return abs(x - y)

  def norm(i, x):
    return x if x == &#34;?&#34; else min(1, max(0, (x - i.lo()) / (i.hi() - i.lo() + 1E-32)))

  def ranges(i, j, the):
    xy = [(better, True) for better in i._all] + [
        (bad, False) for bad in j._all]
    n = i.n + j.n
    sd = i.sd() * i.n / n + j.sd() * j.n / n
    for bin in discretize(xy, sd * the.cohen, len(xy)**the.enough):
      b = bin.also.seen.get(True, 0) / i.n
      r = bin.also.seen.get(False, 0) / j.n
      yield o(best=b, rest=r, at=i.at, down=bin.down, up=bin.up)

  def same(i, j, the):
    lst1, lst2 = i.all(), j.all()
    return Stats.cliffsDelta1(lst1, lst2, the.dull) and \
        Stats.bootstrap(lst1, lst2, the.conf, the.b)

  def unlike(i, j, the):
    d = the.cohen / 3 # normal stops at 3 sd
    x = i.per(.5 + d) - i.per(.5)
    y = i.per(.5) - i.per(.5 - d)
    z = (x + y) / 2 # man different here to cohen*sd
    delta = abs(i.per(.5) - j.per(.5))
    return delta &gt; z</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.Column" href="#keys0.Column">Column</a></li>
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys0.Num.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(i, x):
  if x != &#34;?&#34;:
    i.n += 1
    x = float(x)
    i._all += [x]
    i.ready = False
  return x</code></pre>
</details>
</dd>
<dt id="keys0.Num.all"><code class="name flex">
<span>def <span class="ident">all</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def all(i):
  if not i.ready:
    i._all.sort()
  i.ready = True
  return i._all</code></pre>
</details>
</dd>
<dt id="keys0.Num.dist"><code class="name flex">
<span>def <span class="ident">dist</span></span>(<span>i, x, y)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dist(i, x, y):
  if x == &#34;?&#34;:
    y = i.norm(y)
    x = 1 if y &lt; 0.5 else 0
  elif y == &#34;?&#34;:
    x = i.norm(x)
    y = 1 if x &lt; 0.5 else 0
  else:
    x, y = i.norm(x), i.norm(y)
  return abs(x - y)</code></pre>
</details>
</dd>
<dt id="keys0.Num.hi"><code class="name flex">
<span>def <span class="ident">hi</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hi(i): return i.all()[-1]</code></pre>
</details>
</dd>
<dt id="keys0.Num.lo"><code class="name flex">
<span>def <span class="ident">lo</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def lo(i): return i.all()[0]</code></pre>
</details>
</dd>
<dt id="keys0.Num.mid"><code class="name flex">
<span>def <span class="ident">mid</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mid(i): return i.per(0.5)</code></pre>
</details>
</dd>
<dt id="keys0.Num.norm"><code class="name flex">
<span>def <span class="ident">norm</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def norm(i, x):
  return x if x == &#34;?&#34; else min(1, max(0, (x - i.lo()) / (i.hi() - i.lo() + 1E-32)))</code></pre>
</details>
</dd>
<dt id="keys0.Num.per"><code class="name flex">
<span>def <span class="ident">per</span></span>(<span>i, p=0.5)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def per(i, p=0.5): return i.all()[int(len(i._all) * p)]</code></pre>
</details>
</dd>
<dt id="keys0.Num.ranges"><code class="name flex">
<span>def <span class="ident">ranges</span></span>(<span>i, j, the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ranges(i, j, the):
  xy = [(better, True) for better in i._all] + [
      (bad, False) for bad in j._all]
  n = i.n + j.n
  sd = i.sd() * i.n / n + j.sd() * j.n / n
  for bin in discretize(xy, sd * the.cohen, len(xy)**the.enough):
    b = bin.also.seen.get(True, 0) / i.n
    r = bin.also.seen.get(False, 0) / j.n
    yield o(best=b, rest=r, at=i.at, down=bin.down, up=bin.up)</code></pre>
</details>
</dd>
<dt id="keys0.Num.same"><code class="name flex">
<span>def <span class="ident">same</span></span>(<span>i, j, the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def same(i, j, the):
  lst1, lst2 = i.all(), j.all()
  return Stats.cliffsDelta1(lst1, lst2, the.dull) and \
      Stats.bootstrap(lst1, lst2, the.conf, the.b)</code></pre>
</details>
</dd>
<dt id="keys0.Num.sd"><code class="name flex">
<span>def <span class="ident">sd</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sd(i): return (i.per(.9) - i.per(.1)) / 2.56</code></pre>
</details>
</dd>
<dt id="keys0.Num.unlike"><code class="name flex">
<span>def <span class="ident">unlike</span></span>(<span>i, j, the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unlike(i, j, the):
  d = the.cohen / 3 # normal stops at 3 sd
  x = i.per(.5 + d) - i.per(.5)
  y = i.per(.5) - i.per(.5 - d)
  z = (x + y) / 2 # man different here to cohen*sd
  delta = abs(i.per(.5) - j.per(.5))
  return delta &gt; z</code></pre>
</details>
</dd>
<dt id="keys0.Num.var"><code class="name flex">
<span>def <span class="ident">var</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def var(i): return i.sd()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.Row"><code class="flex name class">
<span>class <span class="ident">Row</span></span>
<span>(</span><span>tbl, cells)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Row(o):
  def __init__(i, tbl, cells): i._tbl, i.cells = tbl, cells

  def dist(i, j, the, cols=None):
    d, n = 0, 1E-32
    for it in cols or i._tbl.x:
      n += 1
      a, b = i.cells[it.at], j.cells[it.at]
      inc = 1 if a == &#34;?&#34; and b == &#34;?&#34; else it.dist(a, b)
      d += inc**the.p
    return (d / n)**(1 / the.p)

  def ys(i): return [i.cells[col.at] for col in i._tbl.y]

  def distant(i, the, rows=None, cols=None):
    some = [random.choice(rows) for _ in range(50)]
    tmp = i.neighbors(the, some, cols)
    return tmp[int(the.far / 100 * len(tmp))][1]

  def neighbors(i, the, rows=None, cols=None):
    rows = rows or i._tbl.rows
    tmp = [(i.dist(j, the, cols or i._tbl.x), j) for j in rows]
    return sorted(tmp, key=lib.first)

  def __lt__(i, j):
    cols = i._tbl.y
    s1, s2, n = 0, 0, len(cols)
    for col in cols:
      a = col.norm(i.cells[col.at])
      b = col.norm(j.cells[col.at])
      s1 -= math.e**(col.w * (a - b) / n)
      s2 -= math.e**(col.w * (b - a) / n)
    return s1 / n &lt; s2 / n</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys0.Row.dist"><code class="name flex">
<span>def <span class="ident">dist</span></span>(<span>i, j, the, cols=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dist(i, j, the, cols=None):
  d, n = 0, 1E-32
  for it in cols or i._tbl.x:
    n += 1
    a, b = i.cells[it.at], j.cells[it.at]
    inc = 1 if a == &#34;?&#34; and b == &#34;?&#34; else it.dist(a, b)
    d += inc**the.p
  return (d / n)**(1 / the.p)</code></pre>
</details>
</dd>
<dt id="keys0.Row.distant"><code class="name flex">
<span>def <span class="ident">distant</span></span>(<span>i, the, rows=None, cols=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def distant(i, the, rows=None, cols=None):
  some = [random.choice(rows) for _ in range(50)]
  tmp = i.neighbors(the, some, cols)
  return tmp[int(the.far / 100 * len(tmp))][1]</code></pre>
</details>
</dd>
<dt id="keys0.Row.neighbors"><code class="name flex">
<span>def <span class="ident">neighbors</span></span>(<span>i, the, rows=None, cols=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def neighbors(i, the, rows=None, cols=None):
  rows = rows or i._tbl.rows
  tmp = [(i.dist(j, the, cols or i._tbl.x), j) for j in rows]
  return sorted(tmp, key=lib.first)</code></pre>
</details>
</dd>
<dt id="keys0.Row.ys"><code class="name flex">
<span>def <span class="ident">ys</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ys(i): return [i.cells[col.at] for col in i._tbl.y]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.Skip"><code class="flex name class">
<span>class <span class="ident">Skip</span></span>
<span>(</span><span>at=0, txt='', inits=[])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Skip(Column):
  pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.Column" href="#keys0.Column">Column</a></li>
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
</dd>
<dt id="keys0.Some"><code class="flex name class">
<span>class <span class="ident">Some</span></span>
<span>(</span><span>*l, keep=1024, **kw)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Some(Column):
  # `add` up to `max` items (and if full, sometimes replace old items).&#34;
  # Not  currently used but if reasoning over large data, can be useful.
  def __init__(i, *l, keep=1024, **kw):
    i.all = []
    i.keep = keep
    super().__init__(*l, **kw)

  def add(i, x):
    if x != &#34;?&#34;:
      i.n += 1
      x = float(x)
      a, r = i.all, random.random
      if len(a) &lt; i.keep:
        a += [x]
      elif r() &lt; i.keep / i.n:
        a[int(r() * len(a))] = x
    return x</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.Column" href="#keys0.Column">Column</a></li>
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys0.Some.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(i, x):
  if x != &#34;?&#34;:
    i.n += 1
    x = float(x)
    a, r = i.all, random.random
    if len(a) &lt; i.keep:
      a += [x]
    elif r() &lt; i.keep / i.n:
      a[int(r() * len(a))] = x
  return x</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.Stats"><code class="flex name class">
<span>class <span class="ident">Stats</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Stats:
  def cliffsDelta(a1, a2, dull=None):
    # Returns true if there are more than &#39;dull&#39; difference.
    return Stats.cliffsDelta1(a1, sorted(a2), dull=dull)

  def cliffsDelta1(a1, a2, dull=[0.147, 0.33, 0.474][0]):
    n1, n2, gt, lt, = len(a1), len(a2), 0, 0
    for x in a1:
      lt += bisect.bisect_left(a2, x)
      gt += n2 - bisect.bisect_right(a2, x)
    return abs(lt - gt) / (n1 * n2) &lt;= dull

  def bootstrap(y0, z0, conf=0.05, b=500):
    def one(lst): return lst[int(any(len(lst)))]
    def any(n): return random.uniform(0, n)

    class Sum():
      def __init__(i, some=[]):
        i.sum, i.n, i.mu, i.all = 0, 0, 0, []
        [i.put(one) for one in some]

      def put(i, x):
        i.all.append(x)
        i.sum += x
        i.n += 1
        i.mu = float(i.sum) / i.n

      def __add__(i1, i2): return Sum(i1.all + i2.all)

    def testStatistic(y, z):
      tmp1 = tmp2 = 0
      for y1 in y.all:
        tmp1 += (y1 - y.mu)**2
      for z1 in z.all:
        tmp2 += (z1 - z.mu)**2
      s1 = float(tmp1) / (y.n - 1)
      s2 = float(tmp2) / (z.n - 1)
      delta = z.mu - y.mu
      if s1 + s2:
        delta = delta / ((s1 / y.n + s2 / z.n)**0.5)
      return delta

    y, z = Sum(y0), Sum(z0)
    x = y + z
    baseline = testStatistic(y, z)
    yhat = [y1 - y.mu + x.mu for y1 in y.all]
    zhat = [z1 - z.mu + x.mu for z1 in z.all]
    bigger = 0
    for i in range(b):
      if testStatistic(Sum([one(yhat) for _ in yhat]),
                       Sum([one(zhat) for _ in zhat])) &gt; baseline:
        bigger += 1
    return bigger / b &gt;= conf</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="keys0.Stats.bootstrap"><code class="name flex">
<span>def <span class="ident">bootstrap</span></span>(<span>y0, z0, conf=0.05, b=500)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def bootstrap(y0, z0, conf=0.05, b=500):
  def one(lst): return lst[int(any(len(lst)))]
  def any(n): return random.uniform(0, n)

  class Sum():
    def __init__(i, some=[]):
      i.sum, i.n, i.mu, i.all = 0, 0, 0, []
      [i.put(one) for one in some]

    def put(i, x):
      i.all.append(x)
      i.sum += x
      i.n += 1
      i.mu = float(i.sum) / i.n

    def __add__(i1, i2): return Sum(i1.all + i2.all)

  def testStatistic(y, z):
    tmp1 = tmp2 = 0
    for y1 in y.all:
      tmp1 += (y1 - y.mu)**2
    for z1 in z.all:
      tmp2 += (z1 - z.mu)**2
    s1 = float(tmp1) / (y.n - 1)
    s2 = float(tmp2) / (z.n - 1)
    delta = z.mu - y.mu
    if s1 + s2:
      delta = delta / ((s1 / y.n + s2 / z.n)**0.5)
    return delta

  y, z = Sum(y0), Sum(z0)
  x = y + z
  baseline = testStatistic(y, z)
  yhat = [y1 - y.mu + x.mu for y1 in y.all]
  zhat = [z1 - z.mu + x.mu for z1 in z.all]
  bigger = 0
  for i in range(b):
    if testStatistic(Sum([one(yhat) for _ in yhat]),
                     Sum([one(zhat) for _ in zhat])) &gt; baseline:
      bigger += 1
  return bigger / b &gt;= conf</code></pre>
</details>
</dd>
<dt id="keys0.Stats.cliffsDelta"><code class="name flex">
<span>def <span class="ident">cliffsDelta</span></span>(<span>a1, a2, dull=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cliffsDelta(a1, a2, dull=None):
  # Returns true if there are more than &#39;dull&#39; difference.
  return Stats.cliffsDelta1(a1, sorted(a2), dull=dull)</code></pre>
</details>
</dd>
<dt id="keys0.Stats.cliffsDelta1"><code class="name flex">
<span>def <span class="ident">cliffsDelta1</span></span>(<span>a1, a2, dull=0.147)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cliffsDelta1(a1, a2, dull=[0.147, 0.33, 0.474][0]):
  n1, n2, gt, lt, = len(a1), len(a2), 0, 0
  for x in a1:
    lt += bisect.bisect_left(a2, x)
    gt += n2 - bisect.bisect_right(a2, x)
  return abs(lt - gt) / (n1 * n2) &lt;= dull</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.Sym"><code class="flex name class">
<span>class <span class="ident">Sym</span></span>
<span>(</span><span>*l, **kw)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Sym(Column):
  def __init__(i, *l, **kw):
    i.seen, i.most, i.mode = {}, 0, None
    super().__init__(*l, **kw)

  def add(i, x, n=1):
    if x != &#34;?&#34;:
      i.n += n
      i.seen[x] = i.seen.get(x, 0) + n
      if i.seen[x] &gt; i.most:
        i.most, i.mode = i.seen[x], x
    return x

  def mid(i): return i.mode
  def var(i): return i.entropy()

  def entropy(i):
    return sum(-v / i.n * math.log(v / i.n, 2) for v in i.seen.values())

  def dist(i, x, y): return 0 if x == y else 1

  def simplified(i, j):
    k = i.merge(j)
    e1, n1 = i.entropy(), i.n
    e2, n2 = j.entropy(), j.n
    e, n = k.entropy(), k.n
    if e1 + e2 &lt; 0.01 or e * .95 &lt; n1 / n * e1 + n2 / n * e2:
      return k

  def merge(i, j):
    k = Sym(at=i.at, txt=i.txt)
    for seen in [i.seen, j.seen]:
      for x, n in seen.items():
        k.add(x, n)
    return k

  def ranges(i, j, _):
    for k in i.seen:
      b = i.seen.get(k, 0) / i.n
      r = j.seen.get(k, 0) / j.n
      yield o(best=b, rest=r, at=i.at, down=k, up=k)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.Column" href="#keys0.Column">Column</a></li>
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys0.Sym.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>i, x, n=1)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(i, x, n=1):
  if x != &#34;?&#34;:
    i.n += n
    i.seen[x] = i.seen.get(x, 0) + n
    if i.seen[x] &gt; i.most:
      i.most, i.mode = i.seen[x], x
  return x</code></pre>
</details>
</dd>
<dt id="keys0.Sym.dist"><code class="name flex">
<span>def <span class="ident">dist</span></span>(<span>i, x, y)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dist(i, x, y): return 0 if x == y else 1</code></pre>
</details>
</dd>
<dt id="keys0.Sym.entropy"><code class="name flex">
<span>def <span class="ident">entropy</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def entropy(i):
  return sum(-v / i.n * math.log(v / i.n, 2) for v in i.seen.values())</code></pre>
</details>
</dd>
<dt id="keys0.Sym.merge"><code class="name flex">
<span>def <span class="ident">merge</span></span>(<span>i, j)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def merge(i, j):
  k = Sym(at=i.at, txt=i.txt)
  for seen in [i.seen, j.seen]:
    for x, n in seen.items():
      k.add(x, n)
  return k</code></pre>
</details>
</dd>
<dt id="keys0.Sym.mid"><code class="name flex">
<span>def <span class="ident">mid</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mid(i): return i.mode</code></pre>
</details>
</dd>
<dt id="keys0.Sym.ranges"><code class="name flex">
<span>def <span class="ident">ranges</span></span>(<span>i, j, _)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ranges(i, j, _):
  for k in i.seen:
    b = i.seen.get(k, 0) / i.n
    r = j.seen.get(k, 0) / j.n
    yield o(best=b, rest=r, at=i.at, down=k, up=k)</code></pre>
</details>
</dd>
<dt id="keys0.Sym.simplified"><code class="name flex">
<span>def <span class="ident">simplified</span></span>(<span>i, j)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def simplified(i, j):
  k = i.merge(j)
  e1, n1 = i.entropy(), i.n
  e2, n2 = j.entropy(), j.n
  e, n = k.entropy(), k.n
  if e1 + e2 &lt; 0.01 or e * .95 &lt; n1 / n * e1 + n2 / n * e2:
    return k</code></pre>
</details>
</dd>
<dt id="keys0.Sym.var"><code class="name flex">
<span>def <span class="ident">var</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def var(i): return i.entropy()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.Table"><code class="flex name class">
<span>class <span class="ident">Table</span></span>
<span>(</span><span>inits=[])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Table(o):
  def __init__(i, inits=[]):
    i.rows, i.header, i.cols, i.x, i.y = [], [], [], [], []
    [i.add(row) for row in inits]
  def __lt__(i, j): return Row(i, i.mid()) &lt; Row(i, j.mid())
  def row(i, lst): return Row(i, [col.add(x)
                                  for col, x in zip(i.cols, lst)])

  def read(i, f): [i.add(line) for line in lib.lines(f)]; return i
  def mid(i): return [col.mid() for col in i.cols]
  def ys(i): return [col.mid() for col in i.y]
  def unlike(i, j, the):
    if i &lt; j:
      for ci, cj in zip(i.y, j.y):
        if ci.unlike(cj, the):
          return True
    return False

  def add(i, lst):
    if type(lst) == Row:
      return i.add(lst.cells)
    if i.cols:
      i.rows += [i.row(lst)]
    else:
      i.cols = i.columns(lst)

  def columns(i, lst):
    i.header = lst
    out = [Col(at, pos) for at, pos in enumerate(lst)]
    for col in out:
      if not col.skip:
        (i.y if col.goal else i.x).append(col)
    return out

  def __repr__(i):
    global _FMT
    return &#39;, &#39;.join([(_FMT % z) for z in i.ys()])

  def clone(i, rows=[]): return Table([i.header] + rows)

  def div(i, the, cols=None, rows=None):
    rows = rows or i.rows
    zero = random.choice(rows)
    one = zero.distant(the, rows, cols)
    two = one.distant(the, rows, cols)
    c = one.dist(two, the, cols)
    for row in rows:
      a = row.dist(one, the, cols)
      b = row.dist(two, the, cols)
      row.div2x = (a**2 + c**2 - b**2) / (2 * c + 1E-31)
    rows.sort(key=lambda x: x.div2x)
    mid = len(rows) // 2
    return rows[:mid], rows[mid:]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys0.o" href="#keys0.o">o</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys0.Table.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>i, lst)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(i, lst):
  if type(lst) == Row:
    return i.add(lst.cells)
  if i.cols:
    i.rows += [i.row(lst)]
  else:
    i.cols = i.columns(lst)</code></pre>
</details>
</dd>
<dt id="keys0.Table.clone"><code class="name flex">
<span>def <span class="ident">clone</span></span>(<span>i, rows=[])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clone(i, rows=[]): return Table([i.header] + rows)</code></pre>
</details>
</dd>
<dt id="keys0.Table.columns"><code class="name flex">
<span>def <span class="ident">columns</span></span>(<span>i, lst)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def columns(i, lst):
  i.header = lst
  out = [Col(at, pos) for at, pos in enumerate(lst)]
  for col in out:
    if not col.skip:
      (i.y if col.goal else i.x).append(col)
  return out</code></pre>
</details>
</dd>
<dt id="keys0.Table.div"><code class="name flex">
<span>def <span class="ident">div</span></span>(<span>i, the, cols=None, rows=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def div(i, the, cols=None, rows=None):
  rows = rows or i.rows
  zero = random.choice(rows)
  one = zero.distant(the, rows, cols)
  two = one.distant(the, rows, cols)
  c = one.dist(two, the, cols)
  for row in rows:
    a = row.dist(one, the, cols)
    b = row.dist(two, the, cols)
    row.div2x = (a**2 + c**2 - b**2) / (2 * c + 1E-31)
  rows.sort(key=lambda x: x.div2x)
  mid = len(rows) // 2
  return rows[:mid], rows[mid:]</code></pre>
</details>
</dd>
<dt id="keys0.Table.mid"><code class="name flex">
<span>def <span class="ident">mid</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mid(i): return [col.mid() for col in i.cols]</code></pre>
</details>
</dd>
<dt id="keys0.Table.read"><code class="name flex">
<span>def <span class="ident">read</span></span>(<span>i, f)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def read(i, f): [i.add(line) for line in lib.lines(f)]; return i</code></pre>
</details>
</dd>
<dt id="keys0.Table.row"><code class="name flex">
<span>def <span class="ident">row</span></span>(<span>i, lst)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def row(i, lst): return Row(i, [col.add(x)
                                for col, x in zip(i.cols, lst)])</code></pre>
</details>
</dd>
<dt id="keys0.Table.unlike"><code class="name flex">
<span>def <span class="ident">unlike</span></span>(<span>i, j, the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unlike(i, j, the):
  if i &lt; j:
    for ci, cj in zip(i.y, j.y):
      if ci.unlike(cj, the):
        return True
  return False</code></pre>
</details>
</dd>
<dt id="keys0.Table.ys"><code class="name flex">
<span>def <span class="ident">ys</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ys(i): return [col.mid() for col in i.y]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.lib"><code class="flex name class">
<span>class <span class="ident">lib</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class lib:
  def cli(d, help):
    # Update `d` with cli flags (if they match  the keys in `d`).
    j = -1
    while j &lt; len(sys.argv) - 1:
      j += 1
      key = sys.argv[j][1:]
      if key == &#34;h&#34;:
        print(help)
        sys.exit()
      elif key[0].isupper() and key in d:
        d[key] = True
      elif key in d:
        j += 1
        x = sys.argv[j]
        y = int(x) if re.match(r&#34;^[-+]?[0-9]+$&#34;, x) else (
            float(x) if re.match(r&#34;^[+-]?((\d+(\.\d+)?)|(\.\d+))$&#34;, x) else
            x)
        if type(y) == type(d[key]):
          d[key] = y
    return o(**d)

  def lines(f):
    # return non-blanks  likes, split on comma.
    with open(f) as fp:
      for line in fp:
        line = re.sub(r&#39;([\n\t\r ]|#.*)&#39;, &#39;&#39;, line)
        if line:
          yield line.split(&#34;,&#34;)

  def first(l): return l[0]

  def red(x): return fore.RED + style.BOLD + x + style.RESET
  def green(x): return fore.GREEN + style.BOLD + x + style.RESET</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="keys0.lib.cli"><code class="name flex">
<span>def <span class="ident">cli</span></span>(<span>d, help)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cli(d, help):
  # Update `d` with cli flags (if they match  the keys in `d`).
  j = -1
  while j &lt; len(sys.argv) - 1:
    j += 1
    key = sys.argv[j][1:]
    if key == &#34;h&#34;:
      print(help)
      sys.exit()
    elif key[0].isupper() and key in d:
      d[key] = True
    elif key in d:
      j += 1
      x = sys.argv[j]
      y = int(x) if re.match(r&#34;^[-+]?[0-9]+$&#34;, x) else (
          float(x) if re.match(r&#34;^[+-]?((\d+(\.\d+)?)|(\.\d+))$&#34;, x) else
          x)
      if type(y) == type(d[key]):
        d[key] = y
  return o(**d)</code></pre>
</details>
</dd>
<dt id="keys0.lib.first"><code class="name flex">
<span>def <span class="ident">first</span></span>(<span>l)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def first(l): return l[0]</code></pre>
</details>
</dd>
<dt id="keys0.lib.green"><code class="name flex">
<span>def <span class="ident">green</span></span>(<span>x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def green(x): return fore.GREEN + style.BOLD + x + style.RESET</code></pre>
</details>
</dd>
<dt id="keys0.lib.lines"><code class="name flex">
<span>def <span class="ident">lines</span></span>(<span>f)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def lines(f):
  # return non-blanks  likes, split on comma.
  with open(f) as fp:
    for line in fp:
      line = re.sub(r&#39;([\n\t\r ]|#.*)&#39;, &#39;&#39;, line)
      if line:
        yield line.split(&#34;,&#34;)</code></pre>
</details>
</dd>
<dt id="keys0.lib.red"><code class="name flex">
<span>def <span class="ident">red</span></span>(<span>x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def red(x): return fore.RED + style.BOLD + x + style.RESET</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys0.o"><code class="flex name class">
<span>class <span class="ident">o</span></span>
<span>(</span><span>**k)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class o(object):
  def __init__(i, **k): i.__dict__.update(**k)

  def __repr__(i):
    return i.__class__.__name__ + str(
        {k: v for k, v in i.__dict__.items() if k[0] != &#34;_&#34;})</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="keys0.Column" href="#keys0.Column">Column</a></li>
<li><a title="keys0.Row" href="#keys0.Row">Row</a></li>
<li><a title="keys0.Table" href="#keys0.Table">Table</a></li>
</ul>
</dd>
<dt id="keys0.yardstick"><code class="flex name class">
<span>class <span class="ident">yardstick</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class yardstick:
  def all(the):
    # Main controller  for  the examples.
    funs = {name: fun for name, fun in yardstick.__dict__.items()
            if len(name) &gt; 2 and name[:2] == &#34;eg&#34;}
    if the.Do:
      for name, fun in funs.items():
        doc = (&#34;\t: &#34; + fun.__doc__) if fun.__doc__ else &#34;&#34;
        print(f&#34;./keys0.py -do {name[2:]}{doc}&#34;)
      sys.exit()
    elif the.D:
      for k, v in the.__dict__.items():
        print(f&#34; -{k} {v}&#34;)
      sys.exit()
    else:
      funs = funs if the.do == &#34;all&#34; else {
          the.do: funs[&#34;eg&#34; + the.do]}
      [yardstick.each(the, fun) for name, fun in funs.items()]

  def each(the, fun):
    # Running one  example.
    global _FMT
    _FMT = the.fmt
    random.seed(the.seed)
    try:
      fun(copy.deepcopy(the))
      print(lib.green(&#34;✔&#34;), fun.__name__)
    except:
      global _FAILS
      _FAILS += 1
      traceback.print_exc()
      print(lib.red(&#34;✖&#34;), fun.__name__)

  def egfails(the): assert False, &#34;checking failure behaviour&#34;

  def egnum(the):
    # Simple print.
    n = Num(inits=[9, 2, 5, 4, 12, 7, 8, 11, 9,
                   3, 7, 4, 12, 5, 4, 10, 9, 6, 9, 4])
    assert n.mid() == 7, &#34;mu test&#34;
    assert 3.125 == n.sd(), &#34;sd test&#34;

  def egsym(the):
    # Another simple print.
    s = Sym(inits=&#34;aaaabbc&#34;)
    assert s.mode == &#34;a&#34;, &#34;mode test&#34;
    assert s.seen[&#34;b&#34;] == 2, &#34;count test&#34;
    assert 1.37 &lt;= s.var() &lt;= 1.38, &#34;ent&#34;

  def eglines(the):
    # Read a csv file.
    n = 0
    for line in lib.lines(the.data):
      n += 1
      assert len(line) == 8
    assert n == 399

  def egtbl(the):
    # Read rows.
    t = Table().read(the.data)
    want = &#34; 2807.00,    15.50,    20.00&#34;
    assert str(t) == want
    assert t.y[0].lo() == 1613
    assert t.y[0].hi() == 5140

  def egdist(the):
    # Checking distant calcs.
    t = Table().read(the.data)
    for m, row1 in enumerate(t.rows):
      lst = row1.neighbors(the)
      assert lst[1][0] &lt; lst[-1][0]
      if m &gt; 100:
        return

  def egsort(the):
    # Checking domination
    t = Table().read(the.data)
    t.rows.sort()
    for row in t.rows[:5]:
      print(&#34;\t&#34;, row.ys())
    print(&#34;&#34;)
    for row in t.rows[-5:]:
      print(&#34;\t&#34;, row.ys())
    print(&#34;enough&#34;, the.enough)

  def egclone(the):
    t = Table().read(the.data)
    t1 = t.clone(rows=t.rows)
    assert [x for x in t.ys()] == [x for x in t1.ys()]

  def egcluster(the):
    t = Table().read(the.data)
    for t1 in sorted(cluster(t, the)):
      print(&#34;\t&#34;, len(t1.rows), t1.ys())

  def egclusterlohi(the):
    t = Table().read(the.data)
    rows = sorted(cluster(t, the))
    for t1 in rows[:10]:
      print(&#34;\t&#34;, len(t1.rows), t1.ys())
    print(&#34;&#34;)
    for t1 in rows[-10:]:
      print(&#34;\t&#34;, len(t1.rows), t1.ys())

  def egbestRest(the):
    t = Table().read(the.data)
    for t1 in bestRest(t, the):
      print(&#34;\t&#34;, len(t1.rows), t1.ys())

  def egdiscrete(the):
    &#34;divide numerics into ranges&#34;
    t = Table().read(the.data)
    leafs = []
    best, rest = bestRest(t, the, leafs)
    tmp = [(x.best**2 / (x.best + x.rest), x)
           for great, dull in zip(best.x, rest.x)
           for x in great.ranges(dull, the)]
    for s, x in sorted(tmp, key=lib.first):
      print(f&#34;\t{s:5.2f}) {x.at}\t {x.down:&gt;5} .. {x.up:&gt;5}&#34;)

  def egstats(the):
    &#34;compare bootstrap to effect size&#34;
    n = 30
    a = [random.random() for _ in range(n)]
    print(&#34;\tcf bs un cd  k   &#34;, n)
    k = 1
    while k &lt; 1.5:
      b = [x * k for x in a]
      cf = Stats.cliffsDelta(a, b, the.dull)
      bs = Stats.bootstrap(a, b, the.conf, the.b)
      i = Num(inits=a)
      j = Num(inits=b)
      cd = abs(i.mid() - j.mid()) &lt; i.sd() * .35
      un = not i.unlike(j, the)
      yes, no = lib.green(&#34;✔ &#34;), lib.red(&#34;✖ &#34;)
      print(&#34;\t&#34;, yes if cf else no,
            yes if bs else no,
            yes if un else no,
            yes if cd else no,
            n,
            f&#34;{k:5.2f}&#34;)
      k += 0.025

  def egkeys0(the):
    t = Table().read(the.data)
    for x in keys0(t, the):
      print(x)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="keys0.yardstick.all"><code class="name flex">
<span>def <span class="ident">all</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def all(the):
  # Main controller  for  the examples.
  funs = {name: fun for name, fun in yardstick.__dict__.items()
          if len(name) &gt; 2 and name[:2] == &#34;eg&#34;}
  if the.Do:
    for name, fun in funs.items():
      doc = (&#34;\t: &#34; + fun.__doc__) if fun.__doc__ else &#34;&#34;
      print(f&#34;./keys0.py -do {name[2:]}{doc}&#34;)
    sys.exit()
  elif the.D:
    for k, v in the.__dict__.items():
      print(f&#34; -{k} {v}&#34;)
    sys.exit()
  else:
    funs = funs if the.do == &#34;all&#34; else {
        the.do: funs[&#34;eg&#34; + the.do]}
    [yardstick.each(the, fun) for name, fun in funs.items()]</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.each"><code class="name flex">
<span>def <span class="ident">each</span></span>(<span>the, fun)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def each(the, fun):
  # Running one  example.
  global _FMT
  _FMT = the.fmt
  random.seed(the.seed)
  try:
    fun(copy.deepcopy(the))
    print(lib.green(&#34;✔&#34;), fun.__name__)
  except:
    global _FAILS
    _FAILS += 1
    traceback.print_exc()
    print(lib.red(&#34;✖&#34;), fun.__name__)</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egbestRest"><code class="name flex">
<span>def <span class="ident">egbestRest</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egbestRest(the):
  t = Table().read(the.data)
  for t1 in bestRest(t, the):
    print(&#34;\t&#34;, len(t1.rows), t1.ys())</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egclone"><code class="name flex">
<span>def <span class="ident">egclone</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egclone(the):
  t = Table().read(the.data)
  t1 = t.clone(rows=t.rows)
  assert [x for x in t.ys()] == [x for x in t1.ys()]</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egcluster"><code class="name flex">
<span>def <span class="ident">egcluster</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egcluster(the):
  t = Table().read(the.data)
  for t1 in sorted(cluster(t, the)):
    print(&#34;\t&#34;, len(t1.rows), t1.ys())</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egclusterlohi"><code class="name flex">
<span>def <span class="ident">egclusterlohi</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egclusterlohi(the):
  t = Table().read(the.data)
  rows = sorted(cluster(t, the))
  for t1 in rows[:10]:
    print(&#34;\t&#34;, len(t1.rows), t1.ys())
  print(&#34;&#34;)
  for t1 in rows[-10:]:
    print(&#34;\t&#34;, len(t1.rows), t1.ys())</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egdiscrete"><code class="name flex">
<span>def <span class="ident">egdiscrete</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"><p>divide numerics into ranges</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egdiscrete(the):
  &#34;divide numerics into ranges&#34;
  t = Table().read(the.data)
  leafs = []
  best, rest = bestRest(t, the, leafs)
  tmp = [(x.best**2 / (x.best + x.rest), x)
         for great, dull in zip(best.x, rest.x)
         for x in great.ranges(dull, the)]
  for s, x in sorted(tmp, key=lib.first):
    print(f&#34;\t{s:5.2f}) {x.at}\t {x.down:&gt;5} .. {x.up:&gt;5}&#34;)</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egdist"><code class="name flex">
<span>def <span class="ident">egdist</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egdist(the):
  # Checking distant calcs.
  t = Table().read(the.data)
  for m, row1 in enumerate(t.rows):
    lst = row1.neighbors(the)
    assert lst[1][0] &lt; lst[-1][0]
    if m &gt; 100:
      return</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egfails"><code class="name flex">
<span>def <span class="ident">egfails</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egfails(the): assert False, &#34;checking failure behaviour&#34;</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egkeys0"><code class="name flex">
<span>def <span class="ident">egkeys0</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egkeys0(the):
  t = Table().read(the.data)
  for x in keys0(t, the):
    print(x)</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.eglines"><code class="name flex">
<span>def <span class="ident">eglines</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def eglines(the):
  # Read a csv file.
  n = 0
  for line in lib.lines(the.data):
    n += 1
    assert len(line) == 8
  assert n == 399</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egnum"><code class="name flex">
<span>def <span class="ident">egnum</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egnum(the):
  # Simple print.
  n = Num(inits=[9, 2, 5, 4, 12, 7, 8, 11, 9,
                 3, 7, 4, 12, 5, 4, 10, 9, 6, 9, 4])
  assert n.mid() == 7, &#34;mu test&#34;
  assert 3.125 == n.sd(), &#34;sd test&#34;</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egsort"><code class="name flex">
<span>def <span class="ident">egsort</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egsort(the):
  # Checking domination
  t = Table().read(the.data)
  t.rows.sort()
  for row in t.rows[:5]:
    print(&#34;\t&#34;, row.ys())
  print(&#34;&#34;)
  for row in t.rows[-5:]:
    print(&#34;\t&#34;, row.ys())
  print(&#34;enough&#34;, the.enough)</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egstats"><code class="name flex">
<span>def <span class="ident">egstats</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"><p>compare bootstrap to effect size</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egstats(the):
  &#34;compare bootstrap to effect size&#34;
  n = 30
  a = [random.random() for _ in range(n)]
  print(&#34;\tcf bs un cd  k   &#34;, n)
  k = 1
  while k &lt; 1.5:
    b = [x * k for x in a]
    cf = Stats.cliffsDelta(a, b, the.dull)
    bs = Stats.bootstrap(a, b, the.conf, the.b)
    i = Num(inits=a)
    j = Num(inits=b)
    cd = abs(i.mid() - j.mid()) &lt; i.sd() * .35
    un = not i.unlike(j, the)
    yes, no = lib.green(&#34;✔ &#34;), lib.red(&#34;✖ &#34;)
    print(&#34;\t&#34;, yes if cf else no,
          yes if bs else no,
          yes if un else no,
          yes if cd else no,
          n,
          f&#34;{k:5.2f}&#34;)
    k += 0.025</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egsym"><code class="name flex">
<span>def <span class="ident">egsym</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egsym(the):
  # Another simple print.
  s = Sym(inits=&#34;aaaabbc&#34;)
  assert s.mode == &#34;a&#34;, &#34;mode test&#34;
  assert s.seen[&#34;b&#34;] == 2, &#34;count test&#34;
  assert 1.37 &lt;= s.var() &lt;= 1.38, &#34;ent&#34;</code></pre>
</details>
</dd>
<dt id="keys0.yardstick.egtbl"><code class="name flex">
<span>def <span class="ident">egtbl</span></span>(<span>the)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def egtbl(the):
  # Read rows.
  t = Table().read(the.data)
  want = &#34; 2807.00,    15.50,    20.00&#34;
  assert str(t) == want
  assert t.y[0].lo() == 1613
  assert t.y[0].hi() == 5140</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="keys0.Col" href="#keys0.Col">Col</a></code></li>
<li><code><a title="keys0.bestRest" href="#keys0.bestRest">bestRest</a></code></li>
<li><code><a title="keys0.cluster" href="#keys0.cluster">cluster</a></code></li>
<li><code><a title="keys0.discretize" href="#keys0.discretize">discretize</a></code></li>
<li><code><a title="keys0.keys0" href="#keys0.keys0">keys0</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="keys0.Column" href="#keys0.Column">Column</a></code></h4>
<ul class="">
<li><code><a title="keys0.Column.add" href="#keys0.Column.add">add</a></code></li>
<li><code><a title="keys0.Column.dist" href="#keys0.Column.dist">dist</a></code></li>
<li><code><a title="keys0.Column.mid" href="#keys0.Column.mid">mid</a></code></li>
<li><code><a title="keys0.Column.norm" href="#keys0.Column.norm">norm</a></code></li>
<li><code><a title="keys0.Column.var" href="#keys0.Column.var">var</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.Num" href="#keys0.Num">Num</a></code></h4>
<ul class="two-column">
<li><code><a title="keys0.Num.add" href="#keys0.Num.add">add</a></code></li>
<li><code><a title="keys0.Num.all" href="#keys0.Num.all">all</a></code></li>
<li><code><a title="keys0.Num.dist" href="#keys0.Num.dist">dist</a></code></li>
<li><code><a title="keys0.Num.hi" href="#keys0.Num.hi">hi</a></code></li>
<li><code><a title="keys0.Num.lo" href="#keys0.Num.lo">lo</a></code></li>
<li><code><a title="keys0.Num.mid" href="#keys0.Num.mid">mid</a></code></li>
<li><code><a title="keys0.Num.norm" href="#keys0.Num.norm">norm</a></code></li>
<li><code><a title="keys0.Num.per" href="#keys0.Num.per">per</a></code></li>
<li><code><a title="keys0.Num.ranges" href="#keys0.Num.ranges">ranges</a></code></li>
<li><code><a title="keys0.Num.same" href="#keys0.Num.same">same</a></code></li>
<li><code><a title="keys0.Num.sd" href="#keys0.Num.sd">sd</a></code></li>
<li><code><a title="keys0.Num.unlike" href="#keys0.Num.unlike">unlike</a></code></li>
<li><code><a title="keys0.Num.var" href="#keys0.Num.var">var</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.Row" href="#keys0.Row">Row</a></code></h4>
<ul class="">
<li><code><a title="keys0.Row.dist" href="#keys0.Row.dist">dist</a></code></li>
<li><code><a title="keys0.Row.distant" href="#keys0.Row.distant">distant</a></code></li>
<li><code><a title="keys0.Row.neighbors" href="#keys0.Row.neighbors">neighbors</a></code></li>
<li><code><a title="keys0.Row.ys" href="#keys0.Row.ys">ys</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.Skip" href="#keys0.Skip">Skip</a></code></h4>
</li>
<li>
<h4><code><a title="keys0.Some" href="#keys0.Some">Some</a></code></h4>
<ul class="">
<li><code><a title="keys0.Some.add" href="#keys0.Some.add">add</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.Stats" href="#keys0.Stats">Stats</a></code></h4>
<ul class="">
<li><code><a title="keys0.Stats.bootstrap" href="#keys0.Stats.bootstrap">bootstrap</a></code></li>
<li><code><a title="keys0.Stats.cliffsDelta" href="#keys0.Stats.cliffsDelta">cliffsDelta</a></code></li>
<li><code><a title="keys0.Stats.cliffsDelta1" href="#keys0.Stats.cliffsDelta1">cliffsDelta1</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.Sym" href="#keys0.Sym">Sym</a></code></h4>
<ul class="two-column">
<li><code><a title="keys0.Sym.add" href="#keys0.Sym.add">add</a></code></li>
<li><code><a title="keys0.Sym.dist" href="#keys0.Sym.dist">dist</a></code></li>
<li><code><a title="keys0.Sym.entropy" href="#keys0.Sym.entropy">entropy</a></code></li>
<li><code><a title="keys0.Sym.merge" href="#keys0.Sym.merge">merge</a></code></li>
<li><code><a title="keys0.Sym.mid" href="#keys0.Sym.mid">mid</a></code></li>
<li><code><a title="keys0.Sym.ranges" href="#keys0.Sym.ranges">ranges</a></code></li>
<li><code><a title="keys0.Sym.simplified" href="#keys0.Sym.simplified">simplified</a></code></li>
<li><code><a title="keys0.Sym.var" href="#keys0.Sym.var">var</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.Table" href="#keys0.Table">Table</a></code></h4>
<ul class="two-column">
<li><code><a title="keys0.Table.add" href="#keys0.Table.add">add</a></code></li>
<li><code><a title="keys0.Table.clone" href="#keys0.Table.clone">clone</a></code></li>
<li><code><a title="keys0.Table.columns" href="#keys0.Table.columns">columns</a></code></li>
<li><code><a title="keys0.Table.div" href="#keys0.Table.div">div</a></code></li>
<li><code><a title="keys0.Table.mid" href="#keys0.Table.mid">mid</a></code></li>
<li><code><a title="keys0.Table.read" href="#keys0.Table.read">read</a></code></li>
<li><code><a title="keys0.Table.row" href="#keys0.Table.row">row</a></code></li>
<li><code><a title="keys0.Table.unlike" href="#keys0.Table.unlike">unlike</a></code></li>
<li><code><a title="keys0.Table.ys" href="#keys0.Table.ys">ys</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.lib" href="#keys0.lib">lib</a></code></h4>
<ul class="">
<li><code><a title="keys0.lib.cli" href="#keys0.lib.cli">cli</a></code></li>
<li><code><a title="keys0.lib.first" href="#keys0.lib.first">first</a></code></li>
<li><code><a title="keys0.lib.green" href="#keys0.lib.green">green</a></code></li>
<li><code><a title="keys0.lib.lines" href="#keys0.lib.lines">lines</a></code></li>
<li><code><a title="keys0.lib.red" href="#keys0.lib.red">red</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys0.o" href="#keys0.o">o</a></code></h4>
</li>
<li>
<h4><code><a title="keys0.yardstick" href="#keys0.yardstick">yardstick</a></code></h4>
<ul class="two-column">
<li><code><a title="keys0.yardstick.all" href="#keys0.yardstick.all">all</a></code></li>
<li><code><a title="keys0.yardstick.each" href="#keys0.yardstick.each">each</a></code></li>
<li><code><a title="keys0.yardstick.egbestRest" href="#keys0.yardstick.egbestRest">egbestRest</a></code></li>
<li><code><a title="keys0.yardstick.egclone" href="#keys0.yardstick.egclone">egclone</a></code></li>
<li><code><a title="keys0.yardstick.egcluster" href="#keys0.yardstick.egcluster">egcluster</a></code></li>
<li><code><a title="keys0.yardstick.egclusterlohi" href="#keys0.yardstick.egclusterlohi">egclusterlohi</a></code></li>
<li><code><a title="keys0.yardstick.egdiscrete" href="#keys0.yardstick.egdiscrete">egdiscrete</a></code></li>
<li><code><a title="keys0.yardstick.egdist" href="#keys0.yardstick.egdist">egdist</a></code></li>
<li><code><a title="keys0.yardstick.egfails" href="#keys0.yardstick.egfails">egfails</a></code></li>
<li><code><a title="keys0.yardstick.egkeys0" href="#keys0.yardstick.egkeys0">egkeys0</a></code></li>
<li><code><a title="keys0.yardstick.eglines" href="#keys0.yardstick.eglines">eglines</a></code></li>
<li><code><a title="keys0.yardstick.egnum" href="#keys0.yardstick.egnum">egnum</a></code></li>
<li><code><a title="keys0.yardstick.egsort" href="#keys0.yardstick.egsort">egsort</a></code></li>
<li><code><a title="keys0.yardstick.egstats" href="#keys0.yardstick.egstats">egstats</a></code></li>
<li><code><a title="keys0.yardstick.egsym" href="#keys0.yardstick.egsym">egsym</a></code></li>
<li><code><a title="keys0.yardstick.egtbl" href="#keys0.yardstick.egtbl">egtbl</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>